+++
title = '将 Unreal Engine 中的骨骼、动画等导入到 Blender 中 - 以「鸣潮」为例'
date = 2024-11-30T09:59:04Z
draft = true
+++

## TL;DR

下载[这个脚本](unreal_to_blender.py)，用文本编辑器打开。选择 Blender 的脚本工作区，新建一个文本并将脚本的内容粘贴到 Blender 中，点击运行。

![](Snipaste_2024-11-30_02-15-08.png)

在从 Unreal Engine 中导入的对象（骨架）上点击右键，根据需要选择执行“骨骼旋转”“动画数据变换”“合并形态键”等功能。

![](Snipaste_2024-11-30_02-18-49.png)

> 脚本编写时针对「鸣潮」的模型数据命名规则设计，如想要把它运用到其他游戏提取得到的数据，可以根据源码做对应的修改。

## OK, but why?

如果你和我一样也是个好奇宝宝，或者想要对这些软件、引擎的内部逻辑有更多的了解，那么让我们一问到底吧！

参考资料：

1. [关于 Unreal Engine 和骨骼的视频](https://youtu.be/5wKGXkE4nyU)
2. [关于 3D 软件的坐标系](https://techarthub.com/a-practical-guide-to-unreal-engines-coordinate-system/)

## 前情提要

小椿最近在玩一款叫作「鸣潮」的游戏。她想提取游戏内的人物模型、材质、动画等内容，来学习游戏制作和 3D 渲染。她听说通过 UE Viewer 可以从一个虚幻引擎制作的游戏中提取 Skeleton Mesh （已经绑好骨骼的模型）及其动画。于是她通过相关公开资料得到了一个游戏角色的网格体（Mesh）、骨骼（Bones）、贴图（Textures）和动画数据（Animation）。（如果你想知道小椿是怎么做到的，可以在网上仔细搜搜，或者在评论区留言催更👀）

## 骨骼

小椿将提取得到的文件导入 Blender 后，惊喜的看到角色确实能动起来，动作看上去也没有问题。但是，怎么骨骼的方向似乎有些奇怪：

![](Snipaste_2024-11-30_02-43-26.png) ![](Snipaste_2024-11-30_02-44-20.png)

模型就像长了刺一样，骨骼一根根都向外伸出。正常情况下这些骨骼应该是首尾相接，且沿着模型的手臂、大腿等正常的人类骨骼方向排列。点击图片放大仔细看，小椿发现这些骨骼长度都沿自身 local 坐标系的 +Y 方向，而似乎所有骨骼长度的正确方向应是自身 local 坐标系的 +X 方向。

> 如果你想要自己在 Blender 中查看骨骼的坐标轴，可以在 Armature 的 Viewport Display 中打开 Axes 显示